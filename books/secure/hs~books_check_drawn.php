<? if (file_exists('../../default.php')) { include '../../default.php'; } ?>
<? if (file_exists('../../procedure/utility.php')) { include '../../procedure/utility.php'; } ?>

<? print_navigation('Books list','Home Page','../../contents.php','Books','../books_index.php'); ?>
<? print_title('Books list'); ?>


<?
    // controllo i parametri
    if ($DEBUG) { 
T           |f
Unknown                      |Unknown                      |D       |    55|Wed 11 Feb 12:13:24 1998 CET |infinity|D       |    55|Climate Change                                                                               |The IPCC Scientific Assessment                                                                    |J. T. Houghton     |G. J. Jenkins      |J. J. Ephraums|unknown  |unknown|unknown|unknown|Cambridge University Press                                        |Dip. Fis. 5843     |T           |f
Unknown                      |Unknown                      |D       |    56|Wed 11 Feb 12:13:42 1998 CET |infinity|D       |    56|Understanding Climate Change                                                                 |Geophysical Monograpf 52 - IUGG VOlume 7                                                          |A. Berger          |R. E. Dickinson    |J. W. Kidson  |unknown  |unknown|unknown|unknown|Geophysical Monograph                                             |unknown            |T           |f
Unknown                      |Unknown                      |F       |     2|Wed 11 Feb 12:14:32 1998 CET |infinity|F       |     2|Fluid Mechanics of the Atmosphere                                                            |                                                                                                  |R.A. BROWN         |                   |              |         |       |       |       |Academic Press, Inc., 1991                                        |DIP. FIS.6545      |T           |f
Unknown                      |Unknown                      |G       |     8|Wed 11 Feb 12:15:26 1998 CET |infinity|G       |     8|Impact of the Atmosphere on Remote Sensing of Earth's Resources                              |                                                                                                  |K.YA. KONDRATYEV   |O.I. SMOKTY        |V.V. KOZODEROV|         |       |       |       |Masinoctroenie, Mosca, 1985                                       |                   |B           |f
Unknown                      |Unknown                      |H       |     5|Wed 11 Feb 12:17:20 1998 CET |infinity|H       |     5|ATMOSPHERIC DIFFUSION The dispersion of Windborne Material from Industrial and other Sources"|                                                                                                  |F. PASQUALINI      |                   |              |         |       |       |       |D. Van Nostrand Company LTD, London, 1962                         |                   |B           |f
Unknown                      |Unknown                      |K       |    20|Wed 11 Feb 12:18:23 1998 CET |infinity|K       |    20|FORTRAN Library Manual                                                                       |Mark 14, Vol. 3                                                                                   |NAG                |                   |              |         |       |       |       |NAG Ltd., Oxford, 1990                                            |                   |L           |f
Unknown                      |Unknown                      |K       |    37|Wed 11 Feb 12:18:51 1998 CET |infinity|K       |    37|Multimedia & CD-ROM visti da vicino                                                          |                                                                                                  |S. COLLIN          |                   |              |         |       |       |       |Centro Poligrafico Milano, 1994                                   |                   |L           |f
Unknown                      |Unknown                      |L       |    28|Wed 11 Feb 12:19:11 1998 CET |infinity|L       |    28|Nuclear Winter: a Warning                                                                    |                                                                                                  |C. CHAGAS          |                   |              |         |       |       |       |Pontificia Academia Scientiarum, Citta' del Vaticano, 1984        |                   |B           |f
Walter                       |Mangiavillano                |C       |   115|Fri 19 Jun 12:19:08 1998 CEST|infinity|C       |   115|Mesoscale Meteorological Modeling                                                            |                                                                                                  |R. A. Pielke       |                   |              |         |       |       |       |Academic Press                                                    |                   |B           |f
Unknown                      |Unknown                      |M       |    43|Wed 11 Feb 12:20:40 1998 CET |infinity|M       |    43|Analysis, initialization and data assimilation                                               |Norrkoping, 23-24 February 1994                                                                   |HIRLAM             |                   |              |         |       |       |       |                                                                  |                   |B           |f
Unknown                      |Unknown                      |M       |    64|Wed 11 Feb 12:21:09 1998 CET |infinity|M       |    64|The Science of Climate Change Contribution of Working Group I to the Second Assessmen        |Report of  the Intergovernmental Panel on Climate Change.                                         |CLIMATE CHANGE 1995|                   |              |         |       |       |       |                                                                  |                   |B           |f
Unknown                      |Unknown                      |N       |     1|Wed 11 Feb 12:21:30 1998 CET |infinity|N       |     1|TRENDS  '90                                                                                  |A Compendium of  Data on Global Change - The Carbon Dioxide Information Analysis Center, Oak Ridge|T.A. BODEN         |P. KANCIRUK        |M.P. FARRELL  |         |       |       |       |National Laboratory, 1990                                         |                   |A           |f
Unknown                      |Unknown                      |N       |     6|Wed 11 Feb 12:21:44 1998 CET |infinity|N       |     6|Sondex                                                                                       |Vol. 1, 2                                                                                         |H. RICHNER         |P. PHILLIPS        |              |         |       |       |       |Spring 1981, Payerne                                              |                   |A           |f
Unknown                      |Unknown                      |O       |    18|Wed 11 Feb 12:22:03 1998 CET |infinity|O       |    18|REGION BULLETIN                                                                              |Dal No. 1 al  No. 16 (dal 1983 al 1990)                                                           |ALPEX              |                   |              |         |       |       |       |                                                                  |                   |B           |f
Unknown                      |Unknown                      |A       |    87|Wed 11 Feb 12:02:50 1998 CET |infinity|A       |    87|Forecasting with dynamics regression models                                                  |Fotocopie                                                                                         |A. PANKRATZ        |                   |              |         |       |       |       |John Wiley & Sons Inc.                                            |                   |A           |f
Unknown                      |Unknown                      |G       |    26|Fri 19 Jun 12:42:01 1998 CEST|infinity|G       |    26|Atmospheric Aerosols                                                                         |                                                                                                  |S. TWOMEY          |                   |              |         |       |       |       |Elsevier  Scientific Publishing Co., Amsterdam, 1977              |DIP. FIS. GEOFIS   |B           |f
Unknown                      |Unknown                      |G       |    36|Fri 19 Jun 12:42:33 1998 CEST|infinity|G       |    36|Remote Sounding of atmospheres                                                               |                                                                                                  |J.T. HOUGHTON      |F.W. TAYLOR        |C.D. RODGERS  |         |       |       |       |Cambridge University Press, UK, 1984                              |CNR 3/L            |B           |f
Rolando                      |Rizzi                        |C       |    64|Fri 17 Jul 08:41:59 1998 CEST|infinity|C       |    64|An Introduction to Dynamic Meteorology                                                       |Third Edition                                                                                     |J.R. HOLTON        |                   |              |         |       |       |       |Academic Press, 1992                                              |DIP. FIS. 6217     |B           |f
Rolando                      |Rizzi                        |C       |    99|Fri 17 Jul 08:43:17 1998 CEST|infinity|C       |    99|Fundamentals of Weather and Climate                                                          |                                                                                                  |ROBIN McILVEEN     |                   |              |         |       |       |       |Chapman&Hall, London, 1995                                        |                   |T           |f
Rolando                      |Rizzi                        |C       |   118|Fri 17 Jul 08:44:58 1998 CEST|infinity|C       |   118|Fundamentals of Atmospheric Physics                                                          |Volume 61                                                                                         |Murry L. Salby     |unknown            |unknown       |unknown  |unknown|unknown|unknown|Academic Press                                                    |DF10048            |B           |f
Rolando                      |Rizzi                        |G       |    24|Fri 17 Jul 08:46:14 1998 CEST|infinity|G       |    24|Aerosol Technology                                                                           |Properties, Behavior and Measurements of Airborne Particles                                       |W.C. HINDS         |                   |              |         |       |       |       |Wiley Interscience Publication, 1982                              |C.N.R. 28/L        |B           |f
LIBRO SCOMPARSO DA RICOMPRARE|LIBRO SCOMPARSO DA RICOMPRARE|A       |     2|Wed 12 Sep 12:57:20 2001 CEST|infinity|A       |     2|Methods of Mathematical Physics                                                              |Vol. 1                                                                                            |R. COURANT         |D. HILBERT         |              |         |       |       |       |                                                                  |C.F.G. II -  10460 |B           |f
(55 rows)

biblioteca=> select first(*) from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity';
ERROR:  No such function 'first' with the specified attributes
biblioteca=> select COUNT(*) from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity';
count
-----
   55
(1 row)

biblioteca=> select max(*) from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity';
ERROR:  Unable to select an aggregate function max(unknown)
biblioteca=> select max(scaffake),* from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity';
ERROR:  attribute 'scaffake' not found
biblioteca=> select max(scaffale),* from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity';
ERROR:  Column 'scaffale' is ambiguous
biblioteca=> select max(a.scaffale),* from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity';
ERROR:  Illegal use of aggregates or non-group column in target list
biblioteca=> select max(a.numero),* from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity';
ERROR:  Illegal use of aggregates or non-group column in target list
biblioteca=> select * from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity' and l.scaffale='b';
nome_utente|cognome_utente|scaffale|numero|data_out|data_in|scaffale|numero|titolo|info|aut1|aut2|aut3|aut4|aut5|aut6|aut7|casa_editoriale|codice_inventariale|collocazione|presente
-----------+--------------+--------+------+--------+-------+--------+------+------+----+----+----+----+----+----+----+----+---------------+-------------------+------------+--------
(0 rows)

biblioteca=> select * from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity' and l.scaffale='B';
nome_utente|cognome_utente|scaffale|numero|data_out                     |data_in |scaffale|numero|titolo                                                 |info     |aut1        |aut2        |aut3|aut4|aut5|aut6|aut7|casa_editoriale                                                  |codice_inventariale|collocazione|presente
-----------+--------------+--------+------+-----------------------------+--------+--------+------+-------------------------------------------------------+---------+------------+------------+----+----+----+----+----+-----------------------------------------------------------------+-------------------+------------+--------
Paolo      |Ruti          |B       |    27|Mon 04 Nov 16:40:14 1996 CET |infinity|B       |    27|Fluid Mechanics                                        |         |P. K. KUNDU |            |    |    |    |    |    |Academic Press, Inc., U.S.A., 1990                               |DIP. FIS. 7730     |B           |f
Unknown    |Unknown       |B       |    45|Wed 11 Feb 12:03:38 1998 CET |infinity|B       |    45|Dynamics of  Nonhomogeneus Fluids                      |Fotocopia|C.S. HIN    |            |    |    |    |    |    |The Macmillan Company, New York - Collier-Macmillan, Canada, 1965|                   |A           |f
Unknown    |Unknown       |B       |    46|Wed 11 Feb 12:03:55 1998 CET |infinity|B       |    46|The Theory of  Hydrodynamic  Stability                 |Fotocopia|C.C. LIN    |            |    |    |    |    |    |Cambridge at the University Press, 1955                          |                   |A           |f
Unknown    |Unknown       |B       |    49|Wed 11 Feb 12:04:14 1998 CET |infinity|B       |    49|TURBOLENCE. An Introduction to Its Mechanism and Theory|         |J. O. HINZE |            |    |    |    |    |    |McGray-Hill Book Company, New York 1959                          |                   |A           |f
Unknown    |Unknown       |B       |    50|Wed 11 Feb 12:04:40 1998 CET |infinity|B       |    50|The Theory of Hydrodinamic Stability                   |         |C. C. LIN   |            |    |    |    |    |    |Cambridge University Press, 1955                                 |                   |A           |f
Unknown    |Unknown       |B       |    48|Fri 19 Jun 12:35:44 1998 CEST|infinity|B       |    48|Fluid Dynamics                                         |         |F. H. HARLOW|A. A. AMSDEN|    |    |    |    |    |Los Alamos, New Mexico,1971                                      |                   |B           |f
(6 rows)

biblioteca=> select nome_utente,cognome_utente,collocazione,scaffale,numero,data_out,data_in,titolo,info,aut1,aut2,casa_editoriale from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity' and l.scaffale='B';
ERROR:  Column 'scaffale' is ambiguous
biblioteca=> select nome_utente,cognome_utente,collocazione,l.scaffale,l.numero,data_out,data_in,titolo,info,aut1,aut2,casa_editoriale from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity' and l.scaffale='B';
nome_utente|cognome_utente|collocazione|scaffale|numero|data_out                     |data_in |titolo                                                 |info     |aut1        |aut2        |casa_editoriale                                                
-----------+--------------+------------+--------+------+-----------------------------+--------+-------------------------------------------------------+---------+------------+------------+-----------------------------------------------------------------
Paolo      |Ruti          |B           |B       |    27|Mon 04 Nov 16:40:14 1996 CET |infinity|Fluid Mechanics                                        |         |P. K. KUNDU |            |Academic Press, Inc., U.S.A., 1990                             
Unknown    |Unknown       |A           |B       |    45|Wed 11 Feb 12:03:38 1998 CET |infinity|Dynamics of  Nonhomogeneus Fluids                      |Fotocopia|C.S. HIN    |            |The Macmillan Company, New York - Collier-Macmillan, Canada, 1965
Unknown    |Unknown       |A           |B       |    46|Wed 11 Feb 12:03:55 1998 CET |infinity|The Theory of  Hydrodynamic  Stability                 |Fotocopia|C.C. LIN    |            |Cambridge at the University Press, 1955                        
Unknown    |Unknown       |A           |B       |    49|Wed 11 Feb 12:04:14 1998 CET |infinity|TURBOLENCE. An Introduction to Its Mechanism and Theory|         |J. O. HINZE |            |McGray-Hill Book Company, New York 1959                        
Unknown    |Unknown       |A           |B       |    50|Wed 11 Feb 12:04:40 1998 CET |infinity|The Theory of Hydrodinamic Stability                   |         |C. C. LIN   |            |Cambridge University Press, 1955                               
Unknown    |Unknown       |B           |B       |    48|Fri 19 Jun 12:35:44 1998 CEST|infinity|Fluid Dynamics                                         |         |F. H. HARLOW|A. A. AMSDEN|Los Alamos, New Mexico,1971                                    
(6 rows)

biblioteca=> select nome_utente,cognome_utente,collocazione,l.scaffale,l.numero,data_out,titolo,info,aut1,aut2,casa_editoriale from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity' and l.scaffale='B';nome_utente|cognome_utente|collocazione|scaffale|numero|data_out                     |titolo                                                 |info     |aut1        |aut2        |casa_editoriale
-----------+--------------+------------+--------+------+-----------------------------+-------------------------------------------------------+---------+------------+------------+-----------------------------------------------------------------
Paolo      |Ruti          |B           |B       |    27|Mon 04 Nov 16:40:14 1996 CET |Fluid Mechanics                                        |         |P. K. KUNDU |            |Academic Press, Inc., U.S.A., 1990
Unknown    |Unknown       |A           |B       |    45|Wed 11 Feb 12:03:38 1998 CET |Dynamics of  Nonhomogeneus Fluids                      |Fotocopia|C.S. HIN    |            |The Macmillan Company, New York - Collier-Macmillan, Canada, 1965
Unknown    |Unknown       |A           |B       |    46|Wed 11 Feb 12:03:55 1998 CET |The Theory of  Hydrodynamic  Stability                 |Fotocopia|C.C. LIN    |            |Cambridge at the University Press, 1955
Unknown    |Unknown       |A           |B       |    49|Wed 11 Feb 12:04:14 1998 CET |TURBOLENCE. An Introduction to Its Mechanism and Theory|         |J. O. HINZE |            |McGray-Hill Book Company, New York 1959
Unknown    |Unknown       |A           |B       |    50|Wed 11 Feb 12:04:40 1998 CET |The Theory of Hydrodinamic Stability                   |         |C. C. LIN   |            |Cambridge University Press, 1955
Unknown    |Unknown       |B           |B       |    48|Fri 19 Jun 12:35:44 1998 CEST|Fluid Dynamics                                         |         |F. H. HARLOW|A. A. AMSDEN|Los Alamos, New Mexico,1971
(6 rows)

biblioteca=> select nome_utente,cognome_utente,collocazione,l.scaffale,l.numero,data_out,titolo,info,aut1,aut2,casa_editoriale from prelevati as a,libri as l where a.scaffale=l.scaffale and a.numero=l.numero and data_in='Infinity' and l.scaffale='B';
    };
 
    // order by...
    if ($f_order) { $order=$f_order; }
    switch ($order) {
        case "t": $order_clause=" ORDER BY titolo"; break;
        case "c": $order_clause=" ORDER BY collocazione,scaffale,numero"; break;
        default: $order_clause="";
    }

    // connessione al database
    $conn=db_connect($db_host,$db_port,$db_name,$db_user);    

    // leggo gli articoli
    $query="SELECT count(*) FROM libri" . $where_clause;
    if ($DEBUG) { print 'Query: <b>' . $query . '</b><br>'; };    
    $result = db_execute($conn,$query);
    
    // conto il numero di linee trovate (count ritorna sempre qualcosa).
    $arr=pg_fetch_array ($result,0);
    $num_rows=$arr[0];
    if ($DEBUG) { print 'Total lines found: ' . $num_rows . '<br>'; };

    if ($num_rows=='0') {
        echo "<ul>\n";
        echo "  <li>No books found.\n";
        echo "</ul>\n";
    } else {
        // print index
        echo "<div align=\"center\">\n";
        echo "<table cellspacing=\"1\" cellpadding=\"3\" border=\"0\" width=\"90%\">\n";
        echo "<tr bgcolor=\"white\">\n";
        echo "    <td align=\"right\" valign=\"middle\" bgcolor=\"#e0e0e0\" width=\"10%\">\n";
        echo "    <font face=\"arial,helvetica,sans-serif\" size=\"2\">\n";
        echo "    Index:\n";
        echo "    </font>\n";
        echo "    </td>\n";
        echo "    <td width=\"95%\"><font face=\"arial,helvetica,sans-serif\" size=\"2\">&nbsp;\n";
        for ($count=0; $count<$num_rows; $count+=$max_table_rows) {
            $temp_to=$count+$max_table_rows-1;
            if ($temp_to>$num_rows) { $temp_to=$num_rows-1; };
            echo "        <a href=\"books_list.php?from=" . $count . "&to=" . $temp_to . "&order=" . $order . "&where=" . $where_encoded . "\">" . $count . "</a> &nbsp;\n";
        }
        echo ": Total " . $num_rows . "\n";
        echo "    </font></td>\n";
        echo "</tr>\n";
        echo "</table>\n";
        echo "</div>\n";

        // print icon description
        echo "<div align=\"center\">\n";
        echo "<table cellspacing=\"1\" cellpadding=\"3\" border=\"0\" width=\"90%\">\n";        
        echo "<tr>\n";
        echo "    <td align=\"right\" valign=\"middle\" bgcolor=\"white\" width=\"10%\">\n";
        echo "    <font face=\"arial,helvetica,sans-serif\" size=\"2\">\n";
        echo "    Key:\n";
        echo "    </font>\n";
        echo "    </td>\n";
        echo "    <td align=\"left\" valign=\"middle\" bgcolor=\"#e0e0e0\">\n";
        echo "    <font face=\"arial,helvetica,sans-serif\" size=\"2\">\n";
        echo "    &nbsp;<img src=\"../icone/mini-help.png\" width=\"25\" height=\"25\" border=\"0\" align=\"absmiddle\"> = Information";
        echo "    &nbsp;<img src=\"../icone/mini-draw.png\" width=\"25\" height=\"25\" border=\"0\" align=\"absmiddle\"> = Draw";
        echo "    &nbsp;<img src=\"../icone/mini-deposit.png\" width=\"25\" height=\"25\" border=\"0\" align=\"absmiddle\"> = Deposit";
        echo "    &nbsp;<img src=\"../icone/mini-history.png\" width=\"25\" height=\"25\" border=\"0\" align=\"absmiddle\"> = History";
        echo "    &nbsp;<img src=\"../icone/mini-edit.png\" width=\"25\" height=\"25\" border=\"0\" align=\"absmiddle\"> = Edit";
        echo "    &nbsp;<img src=\"../icone/mini-delete.png\" width=\"25\" height=\"25\" border=\"0\" align=\"absmiddle\"> = Delete";
        echo "    </font>\n";
        echo "    </td>\n";
        echo "</tr>\n"; 
        echo "</table>\n";
        echo "</div>\n";
        
        // stampo il risultato
        $query="SELECT oid,* FROM libri" . $where_clause . $order_clause;
        $result = db_execute($conn,$query);
        if ($DEBUG) { print 'Query: <b>' . $query . '</b><br>'; };
        if (!$result) {
            if ($DEBUG) { print 'file books_list error: cannot execute query.\n'; };
            exit;
        };
       
        // conto il numero di righe
        $num_rows=pg_numrows($result);
        if ($DEBUG) { print 'Numbers of rows in table: <b>' . $num_rows . '</b><br>'; };
    
        // imposto i limiti dei record da stampare (stampo da $from a $to).
        if ($from=='') { $from=0; };
        if ($to=='') { $to=$to+$max_table_rows-1; };
        // you cannot exceed number of row reported by database.
        if ($to>$num_rows) { $to=$num_rows-1; };
        if ($DEBUG) { print 'Index: <b>from=' . $from . ', to=' . $to . '</b>'; };

        print '<div align="center">';
        print '<table cellspacing="1" cellpadding="3" border="0" width="90%">';
        print '<tr bgcolor="#336699">';
        print '    <td width="5%"><font face="arial,helvetica,sans-serif" size="2" style="color: white">Num.</font></td>';
        print '    <td width="65%"><font face="arial,helvetica,sans-serif" size="2" style="color: white"><a href="books_list.php?from=' . $from . '&to=' . $to . '&order=t&where=' . $where_encoded . '" style="color:white">Book description</a></font></td>';
        print '    <td width="15%" colspan="3"><font face="arial,helvetica,sans-serif" size="2" style="color: white"><a href="books_list.php?from=' . $from . '&to=' . $to . '&order=c&where=' . $where_encoded . '" style="color:white">Collocation</a></font></td>';
        print '    <td width="15%" colspan="2"><font face="arial,helvetica,sans-serif" size="2" style="color: white">Operation</font></td>';
        for ($count=$from; $count<=$to; $count++)        
        {
            $arr=pg_fetch_array ($result,$count);
            if (($count % 2) == 0) {
                echo "<tr bgcolor=\"#e0e0e0\">\n";
            } else {
                echo "<tr bgcolor=\"white\">\n";
            };

            // first column
            echo "<td valign=\"top\" width=\"5%\">\n";
            echo "    <font face=\"arial,helvetica,sans-serif\" size=\"2\">\n";
            echo "    " . $count . "\n";
            if ($DEBUG) {
                echo "    <i>" . $arr['oid'] . "</i>\n";
            }
            if ($arr['presente'] == 'f') {
                echo "    <i>Drawn</i><br>\n";
            }
            echo "    </font>\n";
            echo "</td>\n";

            // second column
            echo "<td valign=\"top\" width=\"5%\"";
            if ($arr['presente'] == 'f') {
                echo " background=\"../icone/back_drown.gif\">\n";
            } else {
                echo ">\n";
            }
            echo "    <font face=\"arial,helvetica,sans-serif\" size=\"2\">\n";
            echo "    <i>" . $arr['titolo'] . "</i>\n";
            if ($arr['info'] != "") { echo "&nbsp;(" . $arr['info'] . ")\n"; }
            echo "    <br>" . $arr['aut1'];
            if ($arr['aut2'] != "") { echo ",&nbsp;" . $arr['aut2']; }
            if ($arr['aut3'] != "") { echo ",&nbsp;" . $arr['aut3']; }
            if ($arr['aut4'] != "") { echo ",&nbsp;" . $arr['aut4']; }
            if ($arr['aut5'] != "") { echo ",&nbsp;" . $arr['aut5']; }
            if ($arr['aut6'] != "") { echo ",&nbsp;" . $arr['aut6']; }
            if ($arr['aut7'] != "") { echo ",&nbsp;" . $arr['aut7']; }
            print '    <br><u>' . $arr['casa_editoriale'] . '</u>';
            print '    </font>';
            print '</td>';
            // 3rd column (3 fields)
            echo "<td valign=\"top\" width=\"5%\">\n";
            echo "    <font face=\"arial,helvetica,sans-serif\" size=\"2\">" . $arr['collocazione'] . "</font>\n";
            echo "</td>\n";
            echo "<td valign=\"top\" width=\"5%\">\n";
            echo "    <font face=\"arial,helvetica,sans-serif\" size=\"2\">" . $arr['scaffale'] . "</font>\n";
            echo "</td>\n";
            echo "<td valign=\"top\" width=\"5%\">\n";
            echo "    <font face=\"arial,helvetica,sans-serif\" size=\"2\">" . $arr['numero'] . "</font>\n";
            echo "</td>\n";
            // 4th column
            echo "<td valign=\"top\" bgcolor=\"#e0e0e0\" width=\"5%\">\n";
            echo "    <a href=\"books_info.php?oid=" . $arr['oid'] . "\"><img src=\"../icone/mini-help.png\" width=\"25\" height=\"25\" border=\"0\" alt=\"View detailed information for this book\"></a>\n";
            echo "</td>\n";

            // last column (print operation)
            echo "    <td valign=\"top\" bgcolor=\"#e0e0e0\" width=\"5%\">\n";
            if ($arr['presente'] == 'f') {
                echo "        <a href=\"secure/books_deposit.php?coll=" . $arr['collocazione'] . "&shelf=" . $arr['scaffale'] . "&num=" . $arr['numero'] . "\"><img src=\"../icone/mini-deposit.png\" width=\"25\" height=\"25\" border=\"0\" alt=\"Deposit this book\"></a>\n";
            } else {
                echo "        <a href=\"secure/books_draw.php?coll=" . $arr['collocazione'] . "&shelf=" . $arr['scaffale'] . "&num=" . $arr['numero'] . "\"><img src=\"../icone/mini-draw.png\" width=\"25\" height=\"25\" border=\"0\" alt=\"Draw this book\"></a>\n";
            }
            echo "        <a href=\"secure/books_history.php?coll=" . $arr['collocazione'] . "&shelf=" . $arr['scaffale'] . "&num=" . $arr['numero'] . "\"><img src=\"../icone/mini-history.png\" width=\"25\" height=\"25\" border=\"0\" alt=\"View history for this book\"></a>\n";
            echo "        <a href=\"secure/books_modify.php?oid=" . $arr['oid'] . "\"><img src=\"../icone/mini-edit.png\" width=\"25\" height=\"25\" border=\"0\" alt=\"Modify information for this book\"></a>\n";
            echo "        <a href=\"secure/books_delete.php?oid=" . $arr['oid'] . "\"><img src=\"../icone/mini-delete.png\" width=\"25\" height=\"25\" border=\"0\" alt=\"Delete this book\"></a>\n";
            echo "    </td>\n";
            echo "</tr>\n";
        };
        echo "</table>\n";
    }
    // chiudo la connessione
    db_close($conn);
?>

</font>

</body>
</html>
